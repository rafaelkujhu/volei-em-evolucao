<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VÃ´lei em EvoluÃ§Ã£o</title>

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:#f2f4f8;
}
.app{
  max-width:420px;
  margin:auto;
  background:#fff;
  min-height:100vh;
  padding:20px;
}
h1{text-align:center;color:#3f51b5;}
h2{color:#3f51b5;margin-top:20px;}
input,select{
  width:100%;
  padding:12px;
  margin-top:10px;
}
button{
  width:100%;
  padding:15px;
  margin-top:15px;
  background:#3f51b5;
  color:#fff;
  border:none;
  border-radius:10px;
  font-size:16px;
}
.fundamento{margin-top:15px;}
.fundamento strong{display:block;margin-bottom:5px;}
.duplo input{width:48%;display:inline-block;}
.resultado{
  margin-top:20px;
  padding:15px;
  border-radius:10px;
  background:#eef1ff;
}
.vermelho{color:#d32f2f;}
.amarelo{color:#f9a825;}
.verde{color:#388e3c;}
canvas{margin-top:20px;background:#fff;}
.oculto{display:none;}
</style>
</head>

<body>
<div class="app">

<!-- LOGIN -->
<div id="login">
  <h1>ğŸ VÃ´lei em EvoluÃ§Ã£o</h1>
  <input id="nomeAtleta" placeholder="Nome do atleta">
  <button onclick="login()">Entrar</button>
</div>

<!-- APP -->
<div id="app" class="oculto">

<h1>ğŸ VÃ´lei em EvoluÃ§Ã£o</h1>
<p><strong>Atleta:</strong> <span id="atletaNome"></span></p>

<!-- FUNDAMENTOS -->
<h2>Fundamentos</h2>

<div class="fundamento duplo"><strong>Saque</strong>
<input id="saqueA" type="number" placeholder="Acertos">
<input id="saqueE" type="number" placeholder="Erros"></div>

<div class="fundamento duplo"><strong>Passe</strong>
<input id="passeA" type="number" placeholder="Acertos">
<input id="passeE" type="number" placeholder="Erros"></div>

<div class="fundamento duplo"><strong>Ataque</strong>
<input id="ataqueA" type="number" placeholder="Acertos">
<input id="ataqueE" type="number" placeholder="Erros"></div>

<div class="fundamento duplo"><strong>Defesa</strong>
<input id="defesaA" type="number" placeholder="Acertos">
<input id="defesaE" type="number" placeholder="Erros"></div>

<button onclick="analisar()">Analisar Desempenho</button>

<!-- COORDENAÃ‡ÃƒO -->
<h2>CoordenaÃ§Ã£o & ConsciÃªncia Corporal</h2>
<select id="coord">
  <option value="0">Selecione o nÃ­vel</option>
  <option value="40">Baixa</option>
  <option value="65">MÃ©dia</option>
  <option value="85">Boa</option>
</select>

<select id="cons">
  <option value="0">ConsciÃªncia corporal</option>
  <option value="40">Baixa</option>
  <option value="65">MÃ©dia</option>
  <option value="85">Boa</option>
</select>

<button onclick="avaliarCorporal()">Avaliar Corpo</button>

<!-- RESULTADO -->
<div id="saida"></div>

<!-- DASHBOARD -->
<h2>Dashboard</h2>
<canvas id="grafico" width="360" height="200"></canvas>

<button onclick="logout()">Trocar Atleta</button>

</div>
</div>

<script>
let atletaAtual = null;

// LOGIN
function login(){
  let nome = nomeAtleta.value.trim();
  if(!nome) return alert("Informe o nome do atleta");
  atletaAtual = nome;
  atletaNome.innerText = nome;
  loginDiv(false);
}
function logout(){
  atletaAtual=null;
  loginDiv(true);
}
function loginDiv(show){
  document.getElementById("login").classList.toggle("oculto",!show);
  document.getElementById("app").classList.toggle("oculto",show);
}

// HISTÃ“RICO
function salvar(dado){
  let h = JSON.parse(localStorage.getItem(atletaAtual))||[];
  h.push(dado);
  localStorage.setItem(atletaAtual,JSON.stringify(h));
}

// ANÃLISE FUNDAMENTOS
function analisar(){
  let dados=[
    pct(saqueA,saqueE,"Saque"),
    pct(passeA,passeE,"Passe"),
    pct(ataqueA,ataqueE,"Ataque"),
    pct(defesaA,defesaE,"Defesa")
  ];

  let pior=dados.reduce((a,b)=>a.pct<b.pct?a:b);
  let melhor=dados.reduce((a,b)=>a.pct>b.pct?a:b);
  let media=Math.round(dados.reduce((s,f)=>s+f.pct,0)/4);

  let nivel=media<50?"Iniciante":media<75?"IntermediÃ¡rio":"AvanÃ§ado";

  salvar({tipo:"fundamentos",dados,media,nivel,data:new Date()});
  desenharGrafico(dados);

  saida.innerHTML=`
  <div class="resultado">
  ğŸ¯ <strong>Prioridade:</strong> <span class="vermelho">${pior.nome}</span><br>
  ğŸ’ª <strong>Ponto forte:</strong> <span class="verde">${melhor.nome}</span><br>
  ğŸ“Š MÃ©dia: ${media}%<br>
  ğŸ·ï¸ NÃ­vel: ${nivel}
  </div>`;
}
function pct(a,e,n){
  let A=+a.value||0,E=+e.value||0;
  let t=A+E;
  return {nome:n,pct:t?Math.round(A/t*100):0};
}

// COORDENAÃ‡ÃƒO
function avaliarCorporal(){
  let c=+coord.value,d=+cons.value;
  if(!c||!d) return alert("Selecione os nÃ­veis");
  let media=Math.round((c+d)/2);
  let leitura=media<60?"Trabalhar base motora":
               media<80?"Boa evoluÃ§Ã£o":"Excelente controle corporal";

  salvar({tipo:"corporal",media,data:new Date()});

  saida.innerHTML+=`
  <div class="resultado">
  ğŸ§  <strong>ConsciÃªncia corporal:</strong> ${media}%<br>
  ğŸ“Œ ${leitura}
  </div>`;
}

// GRÃFICO
function desenharGrafico(dados){
  let ctx=document.getElementById("grafico").getContext("2d");
  ctx.clearRect(0,0,360,200);
  let w=60;
  dados.forEach((d,i)=>{
    let h=d.pct*1.5;
    ctx.fillStyle="#3f51b5";
    ctx.fillRect(30+i*80,180-h,w,h);
    ctx.fillText(d.nome,30+i*80,195);
    ctx.fillText(d.pct+"%",40+i*80,170-h);
  });
}
</script>
</body>
</html>
